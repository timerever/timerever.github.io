<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>A Blog • Posts by &#34;sharding-jdbc&#34; tag</title>
        <link>https://blog.timerever.tk</link>
        <description>Just another blog.</description>
        <language>zh-CN</language>
        <pubDate>Tue, 01 Mar 2022 06:38:32 +0000</pubDate>
        <lastBuildDate>Tue, 01 Mar 2022 06:38:32 +0000</lastBuildDate>
        <category>Java</category>
        <category>HttpClient</category>
        <category>Jackson</category>
        <category>Design Pattern</category>
        <category>Docker</category>
        <category>Dockerfile</category>
        <category>Java Web</category>
        <category>Linux</category>
        <category>C</category>
        <category>Android</category>
        <category>Huawei</category>
        <category>CyanogenMod</category>
        <category>Factory Patterns</category>
        <category>Hibernate</category>
        <category>Git</category>
        <category>GitHub</category>
        <category>Kubernetes</category>
        <category>K8s</category>
        <category>K3s</category>
        <category>Keycloak</category>
        <category>OAuth2</category>
        <category>SSO</category>
        <category>VMware</category>
        <category>vmdk</category>
        <category>MySQL</category>
        <category>Tutorial</category>
        <category>wget</category>
        <category>Regular Expression</category>
        <category>Sharding</category>
        <category>Sharding-JDBC</category>
        <category>Translate</category>
        <category>Algorithm</category>
        <category>Sort</category>
        <category>Ubuntu</category>
        <category>Ruby</category>
        <category>Jekyll</category>
        <category>Windows</category>
        <category>Regedit</category>
        <category>PowerShell</category>
        <item>
            <guid isPermalink="true">https://blog.timerever.tk/2022/03/01/resolve-class-not-found-in-sharding-jdbc/</guid>
            <title>修复 Sharding-JDBC 使用时的两次 NoClassDefFoundError</title>
            <link>https://blog.timerever.tk/2022/03/01/resolve-class-not-found-in-sharding-jdbc/</link>
            <category>Java</category>
            <category>Sharding</category>
            <category>Sharding-JDBC</category>
            <pubDate>Tue, 01 Mar 2022 06:38:32 +0000</pubDate>
            <description><![CDATA[ &lt;p&gt;由于项目上有着某些需求，所以需要使用 Sharding-JDBC。根据官方文档，引入 &lt;code&gt;shardingsphere-jdbc-core&lt;/code&gt; 依赖并使用当前最新版本 5.1.0，结果在测试的过程中出现了两次 NoClassDefFoundError，分别记录一下解决过程。&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;h3 id=&#34;一-classnotfoundexception-orgapachetomcatdbcpdbcp2basicdatasource&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#一-classnotfoundexception-orgapachetomcatdbcpdbcp2basicdatasource&#34;&gt;&lt;/a&gt; 一、ClassNotFoundException: org.apache.tomcat.dbcp.dbcp2.BasicDataSource&lt;/h3&gt;
&lt;p&gt;配置完程序，兴冲冲地打开前端准备测试，可没想到刚打开就报了个错。老规矩，先看最后一个 Caused by，结果是个没头没脑的 ClassNotFoundException。&lt;/p&gt;
&lt;img src=&#34;/2022/03/01/resolve-class-not-found-in-sharding-jdbc/resolve-class-not-found-in-sharding-jdbc-1.png&#34; class=&#34;&#34; title=&#34;报错信息&#34;&gt;
&lt;p&gt;那就继续往上翻，看一下异常栈信息。&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;Caused by: java.lang.NoClassDefFoundError: org/apache/tomcat/dbcp/dbcp2/BasicDataSource&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.infra.datasource.pool.metadata.type.dbcp.TomcatDBCPDataSourcePoolMetaData.getType(TomcatDBCPDataSourcePoolMetaData.java:67)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.spi.typed.TypedSPIRegistry.lambda$findRegisteredService$0(TypedSPIRegistry.java:44)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:174)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1361)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:499)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:486)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:531)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.spi.typed.TypedSPIRegistry.findRegisteredService(TypedSPIRegistry.java:44)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.infra.datasource.pool.metadata.DataSourcePoolMetaDataFactory.newInstance(DataSourcePoolMetaDataFactory.java:46)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.infra.datasource.props.DataSourcePropertiesCreator.createProperties(DataSourcePropertiesCreator.java:81)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.infra.datasource.props.DataSourcePropertiesCreator.create(DataSourcePropertiesCreator.java:57)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.infra.metadata.resource.DataSourcesMetaData.&amp;lt;init&amp;gt;(DataSourcesMetaData.java:41)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.infra.metadata.ShardingSphereMetaData.createResource(ShardingSphereMetaData.java:73)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.infra.metadata.ShardingSphereMetaData.create(ShardingSphereMetaData.java:66)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.mode.metadata.MetaDataContextsBuilder.getMetaDataMap(MetaDataContextsBuilder.java:105)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.mode.metadata.MetaDataContextsBuilder.build(MetaDataContextsBuilder.java:96)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.mode.manager.memory.MemoryContextManagerBuilder.build(MemoryContextManagerBuilder.java:49)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.driver.jdbc.core.datasource.ShardingSphereDataSource.createContextManager(ShardingSphereDataSource.java:81)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.driver.jdbc.core.datasource.ShardingSphereDataSource.&amp;lt;init&amp;gt;(ShardingSphereDataSource.java:64)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.driver.api.ShardingSphereDataSourceFactory.createDataSource(ShardingSphereDataSourceFactory.java:77)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;首先点进去看一下第一行的 &lt;code&gt;TomcatDBCPDataSourcePoolMetaData&lt;/code&gt; 这个类，IDE 很明显地提示了错误，所以根源在于 Sharding 使用了 &lt;code&gt;BasicDataSource&lt;/code&gt; 类却没有引入其依赖。&lt;/p&gt;
&lt;img src=&#34;/2022/03/01/resolve-class-not-found-in-sharding-jdbc/resolve-class-not-found-in-sharding-jdbc-2.png&#34; class=&#34;&#34; title=&#34;IDE 报红&#34;&gt;
&lt;p&gt;既然问题的根源找到了，那么接下来看一眼为什么会触发到这里。&lt;/p&gt;
&lt;p&gt;接着看第二行，&lt;code&gt;TypedSPIRegistry&lt;/code&gt; 类的 44 行，并在这里下一个断点：&lt;/p&gt;
&lt;img src=&#34;/2022/03/01/resolve-class-not-found-in-sharding-jdbc/resolve-class-not-found-in-sharding-jdbc-3.png&#34; class=&#34;&#34; title=&#34;打下断点&#34;&gt;
&lt;img src=&#34;/2022/03/01/resolve-class-not-found-in-sharding-jdbc/resolve-class-not-found-in-sharding-jdbc-4.png&#34; class=&#34;&#34; title=&#34;断点暂停&#34;&gt;
&lt;img src=&#34;/2022/03/01/resolve-class-not-found-in-sharding-jdbc/resolve-class-not-found-in-sharding-jdbc-5.png&#34; class=&#34;&#34; title=&#34;运行表达式&#34;&gt;
&lt;p&gt;可以看到，&lt;code&gt;ShardingSphereServiceLoader.newServiceInstances(typedSPIClass)&lt;/code&gt; 方法传入了 SPI 类 &lt;code&gt;DataSourcePoolMetaData&lt;/code&gt;， 并获取到了其三个实现类，而最后一个 &lt;code&gt;TomcatDBCPDataSourcePoolMetaData&lt;/code&gt; 类就是刚才抛出异常的类。&lt;/p&gt;
&lt;img src=&#34;/2022/03/01/resolve-class-not-found-in-sharding-jdbc/resolve-class-not-found-in-sharding-jdbc-6.png&#34; class=&#34;&#34; title=&#34;DataSourcePoolMetaData 实现类&#34;&gt;
&lt;p&gt;然后在后续的 &lt;code&gt;filter&lt;/code&gt; 中，会循环每个对象，在调用 &lt;code&gt;getType()&lt;/code&gt; 方法时便出现了异常。&lt;/p&gt;
&lt;p&gt;所以看上去并不是自己的问题，在谷歌之后发现，近期已经有人提出了这个问题，具体可以参见：&lt;a href=&#34;https://github.com/apache/shardingsphere/issues/15507&#34;&gt;Add example that implements the Metadata SPI for third-party JDBC pools&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;通过 issue 中的描述我们可以得知，这个问题是在 5.1.0 中才出现的。看上去已经有人提了 PR 修复了这个问题，但是目前还没有发布新版本。所以我们可以降级到 5.0.0 使用旧版本来规避这个问题，或者直接引入缺失的依赖使代码不再报错。&lt;/p&gt;
&lt;figure class=&#34;highlight xml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;org.apache.tomcat&lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;tomcat-dbcp&lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;10.0.16&lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;二-noclassdeffounderror-organtlrv4runtimecodepointbuffer&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#二-noclassdeffounderror-organtlrv4runtimecodepointbuffer&#34;&gt;&lt;/a&gt; 二、NoClassDefFoundError: org/antlr/v4/runtime/CodePointBuffer&lt;/h3&gt;
&lt;p&gt;修复好刚才的问题之后，重新运行程序，创建数据源，好，没有报错。再执行一下 SQL 查询，不好，又报错了…&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;Caused by: java.lang.NoClassDefFoundError: org/antlr/v4/runtime/CodePointBuffer&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.sql.parser.core.SQLParserFactory.getSQLCharStream(SQLParserFactory.java:82)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.sql.parser.core.SQLParserFactory.createTokenStream(SQLParserFactory.java:76)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.sql.parser.core.SQLParserFactory.newInstance(SQLParserFactory.java:55)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.sql.parser.core.database.parser.SQLParserExecutor.twoPhaseParse(SQLParserExecutor.java:58)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.sql.parser.core.database.parser.SQLParserExecutor.parse(SQLParserExecutor.java:49)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.sql.parser.api.SQLParserEngine.parse(SQLParserEngine.java:47)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.infra.parser.sql.SQLStatementParserExecutor.parse(SQLStatementParserExecutor.java:48)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.infra.parser.sql.SQLStatementParserEngine.parse(SQLStatementParserEngine.java:47)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.infra.parser.ShardingSphereSQLParserEngine.parse0(ShardingSphereSQLParserEngine.java:70)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.infra.parser.ShardingSphereSQLParserEngine.parse(ShardingSphereSQLParserEngine.java:59)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSphereStatement.createLogicSQL(ShardingSphereStatement.java:414)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSphereStatement.executeQuery(ShardingSphereStatement.java:144)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:452)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:381)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:465)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	at org.springframework.jdbc.core.JdbcTemplate.queryForRowSet(JdbcTemplate.java:530)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;从第一行点进去先看眼，又是找不到类，不过这次不太一样。看下上面的 import，发现这个包下的大部分的类都可以找到，只有这两个没有找到：&lt;/p&gt;
&lt;img src=&#34;/2022/03/01/resolve-class-not-found-in-sharding-jdbc/resolve-class-not-found-in-sharding-jdbc-7.png&#34; class=&#34;&#34; title=&#34;import 信息&#34;&gt;
&lt;p&gt;只能盲猜是版本问题，打开 Maven Helper 看一下依赖情况，果然是和公司自己的包发生了版本冲突。手动指定版本到 4.9.2，问题解决。&lt;/p&gt;
&lt;img src=&#34;/2022/03/01/resolve-class-not-found-in-sharding-jdbc/resolve-class-not-found-in-sharding-jdbc-8.png&#34; class=&#34;&#34; title=&#34;import 信息&#34;&gt;
 ]]></description>
        </item>
    </channel>
</rss>
